<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
</head>
<body>
    <button type="button" onClick="init()">init</button>
    <button type="button" onClick="login()">login</button>
</body>
<script type="text/javascript" src="pxLib.min.js" id="pxLib"></script>
<script>
    //mainNet 1:ETH,56:BSC,137:Polygon,1203:PlanckX 
    //testNet 3:ETH,97:BSC,80001:Polygon,1204:PlanckX
    function init(){
        pxsdk = new Pxsdk();
        // prod url: "https://api.planckx.io/v1/api/sdk/"
        // dev url: "https://testnet.api.planckx.io/v1/api/sdk/"
        pxsdk.init("https://testnet.api.planckx.io/v1/api/sdk/",function(err,address){
            if(err){
                console.log(err);
            }else{
                console.log(address);
            }
        });
    }
    function login(){
        if(pxsdk){
            pxsdk.sendSign(function(err,result){
                if(err){
                    console.log(err);
                    return;
                }
                console.log(result);
                //set API_Key,PlayerId
                pxsdk.login(API_Key,PlayerId,result.address,result.nonce,result.signature,function(err,result){
                    if(err){
                        console.log(err);
                        return;
                    }
                    console.log(result);
                    pxsdk.getCurrTokenList(function(err,result){
                        if(err){
                            console.log(err);
                            return;
                        }
                        console.log(result);
                        // choose tokenContractAddress
                        // 0x0000000000000000000000000000000000000000 is coin
                        // other is token
                    });
                });
            });
            // Public wallet
            // pxsdk.transferNFT(tokenId,"0x6525C0B3dFac8A9236Bf76c76e3a26c7d909B9Ad",function(err,result){
            //     if(err){
            //         console.log(err);
            //         return;
            //     }
            //     console.log(result);
            // });
            // pxsdk.getApproveSellNFTBox(tokenIds,function(err,result){
            //     if(err){
            //         console.log(err);
            //         if(err == "no approve"){
            //             pxsdk.approveSellNFTBox(tokenIds,function(err,result){
            //                 if(err){
            //                     console.log(err);
            //                     return;
            //                 }
            //                 console.log(result);
            //             });
            //         }
            //         return;
            //     }
            //     // choose tokenContractAddress
            //     // 0x0000000000000000000000000000000000000000 is coin
            //     // other is token
            //     pxsdk.sellNFTBox(tokenIds,tokenContractAddress,amounts,function(err,result){
            //         if(err){
            //             console.log(err);
            //             return;
            //         }
            //         console.log(result);
            //     });
            // });
            // pxsdk.getApproveBuyNFTBox(boxId,function(err,result){
            //     if(err){
            //         console.log(err);
            //         if(err == "no approve"){
            //             pxsdk.approveBuyNFTBox(boxId,false,function(err,result){
            //                 if(err){
            //                     console.log(err);
            //                     return;
            //                 }
            //                 console.log(result);
            //             });
            //         }else if(err == "not enough approve"){
            //             pxsdk.approveBuyNFTBox(boxId,true,function(err,result){
            //                 if(err){
            //                     console.log(err);
            //                     return;
            //                 }
            //                 console.log(result);
            //             });
            //         }
            //         return;
            //     }
            //     pxsdk.buyNFTBox(boxId,function(err,result){
            //         if(err){
            //             console.log(err);
            //             return;
            //         }
            //         console.log(result);
            //     });
            // });
            // pxsdk.pullNFTBox(boxId,function(err,result){
            //     if(err){
            //         console.log(err);
            //         return;
            //     }
            //     console.log(result);
            // });
            // pxsdk.getApproveOrderBox(tokenAddress,amount,function(err,result){
            //     if(err){
            //         console.log(err);
            //         if(err == "no approve"){
            //             pxsdk.approveOrderBox(tokenAddress,amount,false,function(err,result){
            //                 if(err){
            //                     console.log(err);
            //                     return;
            //                 }
            //                 console.log(result);
            //             });
            //         }else if(err == "not enough approve"){
            //             pxsdk.approveOrderBox(tokenAddress,amount,true,function(err,result){
            //                 if(err){
            //                     console.log(err);
            //                     return;
            //                 }
            //                 console.log(result);
            //             });
            //         }
            //         return;
            //     }
            //     pxsdk.setOrderBox(boxId,tokenAddress,amount,function(err,result){
            //         if(err){
            //             console.log(err);
            //             return;
            //         }
            //         console.log(result);
            //     });
            // });
            // Private wallet
            // ...please look README.md
        }
    }
</script>
</html>


                        